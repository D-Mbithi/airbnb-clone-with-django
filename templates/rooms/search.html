{% extends 'base.html' %}

{% block title %}
    Search
{% endblock title %}

{% block search %}

{% endblock search %}


{% block content %}
    <h4>Search</h4>
    <p>
        Searchings room in {{city}} City.
    </p>
    <form action="{% url 'rooms:search' %}" method="get">
        <div>
            <label for="city">City</label>
            <input type="text" name="city" id="city" placeholder="Search by city" value="{{city}}">
        </div>
        <div>
            <label for="country">Country</label>
            <select name="country" id="country">
                {% for country in countries %}
                    <option value="{{country.code}}"{% if s_country == country.code %}selected{% endif %}>
                        {{country.name}}
                    </option>
                {% endfor %}
            </select>
        </div>
        <div>
            <label for="roomtype">Room Type</label>
            <select name="roomtype" ID="roomtype">
                <option value="0" {% if s_room_type == 0 %}selected{% endif %}>Any Kind</option>
                {% for type in room_types %}
                    <option value="{{type.pk}}" {% if s_room_type == type.pk %}selected{% endif %}>
                        {{type.name}}
                    </option>
                {% endfor %}
            </select>
        </div>
        <div>
            <label for="price">Price</label>
            <input type="number" name="price" id="price" value="{{price}}">
        </div>
        <div>
            <label for="bath">Bath</label>
            <input type="number" name="bath" id="bath" value="{{bath}}">
        </div>
        <div>
            <label for="beds">Beds</label>
            <input type="number" name="beds" id="beds" value="{{beds}}">
        </div>
        <div>
            <label for="bedrooms">Bedrooms</label>
            <input type="number" name="bedrooms" id="bedrooms" value="{{bedrooms}}">
        </div>
        <div>
            <label for="guest">Guest</label>
            <input type="number" name="guest" id="guest" value="{{guest}}">
        </div>
        <div>
            <label for="instant">By instant only?</label>
            <input type="checkbox" name="instant" id="instant"
            {% if s_instant %}checked{% endif %}>
        </div>
        <div>
            <label for="super_host">By super_host only?</label>
            <input type="checkbox" name="super_host" id="super_host"
            {% if s_superhost %}checked{% endif %}>
        </div>
        <div>
            <h3>Amenities</h3>
            {% for amenity in amenities %}
            <div>
                <input
                type="checkbox"
                id="a_{{amenity.pk}}"
                value="{{amenity.pk}}"
                name="amenity"
                {% if amenity.pk|slugify in s_amenity %}
                    checked
                {% endif %}>
                <label for="a_{{amenity.pk}}">{{ amenity.name }}</label>
            </div>
            {% endfor %}
        </div>
        <div>
            <h3>Facilities</h3>
            {% for facility in facilities %}
            <div>
                <input
                type="checkbox"
                id="f_{{facility.pk}}"
                value="{{facility.pk}}"
                name="facility"
                {% if facility.pk|slugify in s_facility %}
                    checked
                {% endif %}>
                <label for="f_{{facility.pk}}">{{ facility.name }}</label>
            </div>
            {% endfor %}
        </div>
        <button>Search</button>
    </form>

    <div>
        <h3>Search results</h3>
        {% for room in rooms %}
            <p>
                {{ room.name }}
            </p>
        {% endfor %}
    </div>
{% endblock content %}
